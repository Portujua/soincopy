<div class="personal seccion" ng-controller="Personal">
	<h1 style="font-size: 20px;">Personal</h1>
	<p>
		<a href="./#/personal/agregar" class="btn btn-soincopy" ng-show="loginService.getCurrentUser().personal_agregar"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Crear</a><br/>

		<div class="botones">
			<div ng-show="p_">
				<a class="btn btn-primary" ng-show="loginService.getCurrentUser().personal_editar" href="./#/personal/editar/{{ p_.id }}">
					<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Editar
				</a>
			</div>
		</div>
	</p>

	<div ng-show="loginService.getCurrentUser().personal_ver">

		<table ng-table="tableParams" class="table table-striped table-hover" show-filter="true" ng-init="cargar_personal()">
		    <tr ng-repeat="row in $data" class="{{ row.estado == 0 ? 'bg-danger' : '' }} {{ p_.id == row.id ? 'bg-selected' : '' }}" ng-click="seleccionar(row)">
		        <td title="'Nombre'" filter="{ nombre: 'text' }" sortable="'nombre'">
		            {{ row.nombre }}
		        </td>

		        <td title="'Cédula'" filter="{ cedula_: 'text' }" sortable="'cedula_'">
		            {{ row.cedula_ }}
		        </td>

		        <td title="'Teléfono'" filter="{ telefono: 'text' }" sortable="'telefono'">
		            {{ row.telefono | available }}
		        </td>

		        <td title="'Email'" filter="{ email: 'text' }" sortable="'email'">
		            {{ row.email | available }}
		        </td>

		        <td title="'Departamento'" filter="{ departamentos_str: 'text' }" sortable="'departamentos_str'">
		            {{ row.departamentos_str }}
		        </td>

		        <td title="'Habilitado?'" sortable="'estado'">
		            <toggle ng-init="row.estado = row.estado == 1 ? true : false" ng-model="row.estado" ng-change="cambiar_estado(row.id, row.estado ? 1 : 0)" size="btn-xs" on="Si" off="No"></toggle>
		        </td>
		    </tr>
		</table>
	</div>
</div>